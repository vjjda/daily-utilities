#!/usr/bin/env zsh
# Path: bin/ctree


SCRIPT_PATH="$(readlink -f "$0" 2>/dev/null || realpath "$0" 2>/dev/null || echo "$0")"
PROJECT_ROOT=$(cd "$(dirname "$SCRIPT_PATH")/.." && pwd)
VENV_PATH="$PROJECT_ROOT/.venv"

if [ -d "$VENV_PATH" ]; then
    source "$VENV_PATH/bin/activate"
else
    echo "⚠️ Warning: No virtual environment found at $VENV_PATH. Using system Python."
fi

# 3. Chạy script Python chính và truyền tất cả đối số ($@)
PYTHONPATH="$PROJECT_ROOT:$PYTHONPATH" python "$PROJECT_ROOT/scripts/tree.py" "$@"