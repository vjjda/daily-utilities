#!/usr/bin/env zsh
# Path: bin/cleanup

# 1. Tìm đường dẫn tuyệt đối của thư mục gốc dự án
PROJECT_ROOT=$(cd "$(dirname "$0")/.." && pwd)
VENV_PATH="$PROJECT_ROOT/.venv"

# 2. Kiểm tra và kích hoạt venv
if [ -d "$VENV_PATH" ]; then
    source "$VENV_PATH/bin/activate"
else
    echo "⚠️ Cảnh báo: Không tìm thấy môi trường ảo (.venv) tại $VENV_PATH. Đang sử dụng Python hệ thống."
fi

# 3. Chạy script Python chính và truyền tất cả đối số ($@)
# Lệnh 'python' sẽ được trỏ tới venv nếu nó đã được kích hoạt.
python "$PROJECT_ROOT/scripts/clean_desktop.py" "$@"
